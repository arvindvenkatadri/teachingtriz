<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Arvind V.">
<meta name="dcterms.date" content="2022-11-25">
<title>The Foundation Series - üçï Parts of a Whole</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="../../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../../../">
<script src="../../../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../../../../site_libs/quarto-contrib/iconify-1.0.0-beta.2/iconify-icon.min.js"></script><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="../../../../../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="../../../../../../site_libs/echarts4r-4.8.0/echarts-en.min.js"></script><script src="../../../../../../site_libs/echarts4r-4.8.0/ecStat.min.js"></script><script src="../../../../../../site_libs/echarts4r-4.8.0/dataTool.min.js"></script><script src="../../../../../../site_libs/echarts4r-binding-0.4.5/echarts4r.js"></script><link href="../../../../../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../../../../../../site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta property="og:title" content="The Foundation Series - üçï Parts of a Whole">
<meta property="og:description" content="Slices, Portions, Counts, and Aggregates of Data">
<meta property="og:image" content="https://av-quarto.netlify.app/content/courses/Analytics/Descriptive/Modules/60-PartWhole/preview.jpg">
<meta property="og:site-name" content="The Foundation Series">
<meta property="og:image:alt" content="image from rawpixels.com">
<meta name="twitter:title" content="The Foundation Series - üçï Parts of a Whole">
<meta name="twitter:description" content="Slices, Portions, Counts, and Aggregates of Data">
<meta name="twitter:image" content="https://av-quarto.netlify.app/content/courses/Analytics/Descriptive/Modules/60-PartWhole/preview.jpg">
<meta name="twitter:image:alt" content="image from rawpixels.com">
<meta name="twitter:card" content="summary_large_image">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../../../../index.html">
    <span class="navbar-title">The Foundation Series</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../../../../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/arvindvenkatadri/my-quarto-website" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/arvind_v" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../../../../../www.linkedin.com/in/arvindvenkatadri" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:arvind.venkatadri@gmail.com" rel="" target=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">üçï Parts of a Whole</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Teaching</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../../../content/courses/Analytics/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analytics</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="" class="collapse list-unstyled sidebar-section depth2 ">
<li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/Analytics/Tools/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tools and Software</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/Analytics/Descriptive/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descriptive Analytics</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/Analytics/Inference/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical Inference</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/Analytics/Modelling/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inferential Modelling</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/Analytics/Predictive/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predictive Analytics</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/Analytics/Prescriptive/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prescriptive Analytics</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/Analytics/Workflow/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Workflow</span></a>
  </div>
</li>
      </ul>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/R4Artists/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R for Artists and Managers</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/TRIZ4ProbSolving/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TRIZ for Innovation</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/MathModelsDesign/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Math Models in Design</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/NoCode/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Vis with No Code</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/courses/ISTW/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">In Short, the World</span></a>
  </div>
</li>
          <li class="px-0"><hr class="sidebar-divider hi "></li>
      </ul>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/projects/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Blogs</span></a>
  </div>
</li>
        <li class="px-0"><hr class="sidebar-divider hi "></li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../../../content/slides/listing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Slides</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#iconify-noto-v1-package-setting-up-the-packages" id="toc-iconify-noto-v1-package-setting-up-the-packages" class="nav-link active" data-scroll-target="#iconify-noto-v1-package-setting-up-the-packages"><iconify-icon inline="" icon="noto-v1:package"></iconify-icon> Setting up the Packages</a></li>
  <li><a href="#iconify-fxemoji-japanesesymbolforbeginner-what-graphs-will-we-see-today" id="toc-iconify-fxemoji-japanesesymbolforbeginner-what-graphs-will-we-see-today" class="nav-link" data-scroll-target="#iconify-fxemoji-japanesesymbolforbeginner-what-graphs-will-we-see-today"><iconify-icon inline="" icon="fxemoji:japanesesymbolforbeginner"></iconify-icon> What Graphs will we see today?</a></li>
  <li>
<a href="#iconify-noto-folding-hand-fan-pies-and-fans" id="toc-iconify-noto-folding-hand-fan-pies-and-fans" class="nav-link" data-scroll-target="#iconify-noto-folding-hand-fan-pies-and-fans"><iconify-icon inline="" icon="noto:folding-hand-fan"></iconify-icon> Pies and Fans</a>
  <ul class="collapse">
<li><a href="#the-fan-plot" id="toc-the-fan-plot" class="nav-link" data-scroll-target="#the-fan-plot">The <code>fan</code> Plot</a></li>
  <li><a href="#the-donut-chart" id="toc-the-donut-chart" class="nav-link" data-scroll-target="#the-donut-chart">The <code>Donut</code> Chart</a></li>
  </ul>
</li>
  <li><a href="#iconify-noto-waffle-waffle-charts" id="toc-iconify-noto-waffle-waffle-charts" class="nav-link" data-scroll-target="#iconify-noto-waffle-waffle-charts"><iconify-icon inline="" icon="noto:waffle"></iconify-icon> Waffle Charts</a></li>
  <li><a href="#iconify-fa6-solid-people-roof-parliament-charts" id="toc-iconify-fa6-solid-people-roof-parliament-charts" class="nav-link" data-scroll-target="#iconify-fa6-solid-people-roof-parliament-charts"><iconify-icon inline="" icon="fa6-solid:people-roof"></iconify-icon> Parliament Charts</a></li>
  <li>
<a href="#trees-dendrograms-and-circle-packings" id="toc-trees-dendrograms-and-circle-packings" class="nav-link" data-scroll-target="#trees-dendrograms-and-circle-packings">Trees, Dendrograms, and Circle Packings</a>
  <ul class="collapse">
<li><a href="#iconify-mdi-family-tree-dendrograms" id="toc-iconify-mdi-family-tree-dendrograms" class="nav-link" data-scroll-target="#iconify-mdi-family-tree-dendrograms"><iconify-icon inline="" icon="mdi:family-tree"></iconify-icon> Dendrograms</a></li>
  <li><a href="#circle-packing" id="toc-circle-packing" class="nav-link" data-scroll-target="#circle-packing">Circle Packing</a></li>
  </ul>
</li>
  <li><a href="#iconify-bi-person-up-your-turn" id="toc-iconify-bi-person-up-your-turn" class="nav-link" data-scroll-target="#iconify-bi-person-up-your-turn"><iconify-icon inline="" icon="bi:person-up"></iconify-icon> Your Turn</a></li>
  <li><a href="#iconify-ooui-references-ltr-references" id="toc-iconify-ooui-references-ltr-references" class="nav-link" data-scroll-target="#iconify-ooui-references-ltr-references"><iconify-icon inline="" icon="ooui:references-ltr"></iconify-icon> References</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">üçï Parts of a Whole</h1>
<p class="subtitle lead">Parts of a Whole</p>
  <div class="quarto-categories">
    <div class="quarto-category">Pie Charts</div>
    <div class="quarto-category">Fan Charts</div>
    <div class="quarto-category">Donut Charts</div>
    <div class="quarto-category">Grouping</div>
    <div class="quarto-category">Stacking</div>
    <div class="quarto-category">Circular Bar Charts</div>
    <div class="quarto-category">Dot Plots</div>
    <div class="quarto-category">Mosaic Charts</div>
    <div class="quarto-category">Parliament Charts</div>
    <div class="quarto-category">Waffle Charts</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Arvind V. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 25, 2022</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">December 24, 2023</p>
    </div>
  </div>
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    Slices, Portions, Counts, and Aggregates of Data
  </div>
</div>

</header><section id="iconify-noto-v1-package-setting-up-the-packages" class="level2"><h2 class="anchored" data-anchor-id="iconify-noto-v1-package-setting-up-the-packages">
<iconify-icon inline="" icon="noto-v1:package"></iconify-icon> Setting up the Packages</h2>
<div class="cell" data-hash="part-whole_cache/html/setup_3fd009dbc57d24d3819afb877b21f6e1">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ProjectMOSAIC/mosaic">mosaic</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ProjectMOSAIC/ggformula">ggformula</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dmurdoch/plotrix">plotrix</a></span><span class="op">)</span> <span class="co"># Fan, Pyramid Chart</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/robwhickman/ggparliament">ggparliament</a></span><span class="op">)</span> <span class="co"># Parliament Chart</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/erocoar/ggpol">ggpol</a></span><span class="op">)</span> <span class="co"># Parliament, Arc-Bar and other interesting charts</span></span>
<span></span>
<span><span class="co"># install.packages("waffle", repos = "https://cinc.rud.is")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">waffle</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidygraph.data-imaginist.com">tidygraph</a></span><span class="op">)</span> <span class="co"># Trees, Dendros, and Circle Packings</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggraph.data-imaginist.com">ggraph</a></span><span class="op">)</span> <span class="co"># Trees, Dendros, and Circle Packings</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://echarts4r.john-coene.com/">echarts4r</a></span><span class="op">)</span> <span class="co"># Interactive Charts</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com">patchwork</a></span><span class="op">)</span> <span class="co"># Arrange your plots</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="iconify-fxemoji-japanesesymbolforbeginner-what-graphs-will-we-see-today" class="level2"><h2 class="anchored" data-anchor-id="iconify-fxemoji-japanesesymbolforbeginner-what-graphs-will-we-see-today">
<iconify-icon inline="" icon="fxemoji:japanesesymbolforbeginner"></iconify-icon> What Graphs will we see today?</h2>
<p>There are a good few charts available to depict things that constitute other bigger things. We will discuss a few of these: Pie, Fan, and Donuts; Waffle and Parliament charts; Trees, Dendrograms, and Circle Packings. (The last three visuals we will explore along with <code>network diagrams</code> in a later module.)</p>
</section><section id="iconify-noto-folding-hand-fan-pies-and-fans" class="level2"><h2 class="anchored" data-anchor-id="iconify-noto-folding-hand-fan-pies-and-fans">
<iconify-icon inline="" icon="noto:folding-hand-fan"></iconify-icon> Pies and Fans</h2>
<p>So let us start with ‚Äúeating humble pie‚Äù: discussing a Pie chart first.</p>
<p>A <code>pie chart</code> is a circle divided into sectors that each represent a proportion of the whole. It is often used to show percentage, where the sum of the sectors equals 100%.</p>
<p>The problem is that humans are pretty bad at reading angles. This ubiquitous chart is much vilified in the industry and <code>bar charts</code> that we have seen earlier, are viewed as better options. On the other hand, pie charts are ubiquitous in business circles, and are very much accepted! Do also read this spirited defense of pie charts here. <a href="https://speakingppt.com/why-tufte-is-flat-out-wrong-about-pie-charts/" class="uri">https://speakingppt.com/why-tufte-is-flat-out-wrong-about-pie-charts/</a></p>
<p>And we will also see that there is an attractive, and similar-looking alternative, called a <code>fan chart</code> which we will explore here.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset nav-pills" style="background: whitesmoke;">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Using Base R</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Using ggformula</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Using echarts4r</a></li>
</ul>
<div class="tab-content nav-pills" style="background: whitesmoke;">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Base R has a simple <code>pie</code> command that does the job. Let‚Äôs create some toy data first:</p>
<div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pie_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  sales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.12</span>, <span class="fl">0.3</span>, <span class="fl">0.26</span>, <span class="fl">0.16</span>, <span class="fl">0.04</span>, <span class="fl">0.12</span><span class="op">)</span>, </span>
<span>  </span>
<span>  <span class="co"># Labels MUST be character entries for `pie` to work</span></span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Blueberry"</span>,<span class="st">"Cherry"</span>,<span class="st">"Apple"</span>,<span class="st">"Boston Cream"</span>,</span>
<span>             <span class="st">"Other"</span>,<span class="st">"Vanilla Cream"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">pie_data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/pie.html">pie</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">pie_data</span><span class="op">$</span><span class="va">sales</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">pie_data</span><span class="op">$</span><span class="va">labels</span>, <span class="co"># Character Vector is a MUST</span></span>
<span></span>
<span>  <span class="co"># Pie is within a square of 1 X 1 units</span></span>
<span>  <span class="co"># Reduce radius if needed to see labels properly</span></span>
<span>  radius <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  </span>
<span>  init.angle <span class="op">=</span> <span class="fl">90</span>, <span class="co"># First slice starts at 12 o'clock position</span></span>
<span>  </span>
<span>  <span class="co"># Change the default colours. Comment this and see what happens. </span></span>
<span>  col <span class="op">=</span>  <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Plasma"</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="part-whole_cache/html/unnamed-chunk-3_0e06f2f113f6b53b63316cc9ad5cbb10">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["sales"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["labels"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"0.12","2":"Blueberry"},{"1":"0.30","2":"Cherry"},{"1":"0.26","2":"Apple"},{"1":"0.16","2":"Boston Cream"},{"1":"0.04","2":"Other"},{"1":"0.12","2":"Vanilla Cream"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="part-whole_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="2100"></p>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>We create a bar chart or a column chart as appropriate, with bars filled by category. The <code>width</code> parameter is set to <code>1</code> so that the bars touch. The bars have a <strong>fixed</strong> width along the x-axis; the height of the bar varies based on the number we wish to show. Then the <code>coord_polar(theta = "y")</code> converts the bar plot into a pie.</p>
<div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Using gf_col since we have a count/value column already</span></span>
<span><span class="va">pie_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_col.html">gf_col</a></span><span class="op">(</span><span class="va">sales</span> <span class="op">~</span> <span class="fl">1</span>, fill <span class="op">=</span> <span class="op">~</span> <span class="va">labels</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> </span>
<span><span class="va">pie_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_col.html">gf_col</a></span><span class="op">(</span><span class="va">sales</span> <span class="op">~</span> <span class="fl">1</span>, fill <span class="op">=</span> <span class="op">~</span> <span class="va">labels</span>, width <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_aux.html">gf_refine</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># Using gf_bar since we don't have ready made counts</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_bar.html">gf_bar</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mpg</span>,</span>
<span>       <span class="op">~</span> <span class="fl">1</span>,</span>
<span>       fill <span class="op">=</span> <span class="op">~</span> <span class="va">drv</span>,</span>
<span>       color <span class="op">=</span> <span class="st">"black"</span>, <span class="co"># border for the bars/slices</span></span>
<span>       width <span class="op">=</span>  <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_bar.html">gf_bar</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mpg</span>,</span>
<span>       <span class="op">~</span> <span class="fl">0.5</span>,</span>
<span>       fill <span class="op">=</span> <span class="op">~</span> <span class="va">drv</span>,</span>
<span>       color <span class="op">=</span> <span class="st">"black"</span>, <span class="co"># border for the bars/slices</span></span>
<span>       width <span class="op">=</span>  <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_theme.html">gf_theme</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_theme.html">gf_theme</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.line.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                 axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                 axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_aux.html">gf_refine</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="part-whole_cache/html/unnamed-chunk-4_99776ed7a089ac573d434a13228f9e12">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="part-whole_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="2100"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="part-whole_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="2100"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="part-whole_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid" width="2100"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="part-whole_files/figure-html/unnamed-chunk-4-4.png" class="img-fluid" width="2100"></p>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p>Here is a basic interactive pie chart with<code>echarts4r</code>:</p>
<div class="cell" data-hash="part-whole_cache/html/unnamed-chunk-5_2020561e934034db7aee6364b6ecd2cc">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pie_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  sales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.12</span>, <span class="fl">0.3</span>, <span class="fl">0.26</span>, <span class="fl">0.16</span>, <span class="fl">0.04</span>, <span class="fl">0.12</span><span class="op">)</span>, </span>
<span></span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Blueberry"</span>,<span class="st">"Cherry"</span>,<span class="st">"Apple"</span>,<span class="st">"Boston Cream"</span>,<span class="st">"Other"</span>,</span>
<span>             <span class="st">"Vanilla Cream"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pie_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/init.html">e_charts</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">labels</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_pie.html">e_pie</a></span><span class="op">(</span>serie <span class="op">=</span> <span class="va">sales</span>, clockwise <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>        startAngle <span class="op">=</span> <span class="fl">90</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_legend.html">e_legend</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>orient <span class="op">=</span> <span class="st">"vertical"</span>,</span>
<span>                      left <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e-tooltip.html">e_tooltip</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="echarts4r html-widget html-fill-item" id="htmlwidget-cdd92a16618500e8835d" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-cdd92a16618500e8835d">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"legend":{"data":["Blueberry","Cherry","Apple","Boston Cream","Other","Vanilla Cream"],"show":{"orient":"vertical","left":"right"},"type":"plain"},"series":[{"name":"sales","type":"pie","clockwise":true,"startAngle":90,"data":[{"value":0.12,"name":"Blueberry"},{"value":0.3,"name":"Cherry"},{"value":0.26,"name":"Apple"},{"value":0.16,"name":"Boston Cream"},{"value":0.04,"name":"Other"},{"value":0.12,"name":"Vanilla Cream"}]}],"tooltip":{"trigger":"item"}},"dispose":true},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We can add more bells and whistles to the humble-pie chart, and make a Nightingale <code>rosechart</code> out of it:</p>
<div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pie_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  sales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.12</span>, <span class="fl">0.3</span>, <span class="fl">0.26</span>, <span class="fl">0.16</span>, <span class="fl">0.04</span>, <span class="fl">0.12</span><span class="op">)</span>, </span>
<span></span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Blueberry"</span>,<span class="st">"Cherry"</span>,<span class="st">"Apple"</span>,<span class="st">"Boston Cream"</span>,<span class="st">"Other"</span>,</span>
<span>             <span class="st">"Vanilla Cream"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">pie_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/init.html">e_charts</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">labels</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_pie.html">e_pie</a></span><span class="op">(</span>serie <span class="op">=</span> <span class="va">sales</span>, clockwise <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>        startAngle <span class="op">=</span> <span class="fl">90</span>, </span>
<span>        roseType <span class="op">=</span> <span class="st">"area"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># try "radius"</span></span>
<span>  </span>
<span>  <span class="co"># Lets move the legend</span></span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_legend.html">e_legend</a></span><span class="op">(</span>left <span class="op">=</span> <span class="st">"right"</span>, orient <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e-tooltip.html">e_tooltip</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">pie_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/init.html">e_charts</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">labels</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_pie.html">e_pie</a></span><span class="op">(</span>serie <span class="op">=</span> <span class="va">sales</span>, clockwise <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>        startAngle <span class="op">=</span> <span class="fl">90</span>, </span>
<span>        roseType <span class="op">=</span> <span class="st">"radius"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  </span>
<span>  <span class="co"># Lets move the legend</span></span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_legend.html">e_legend</a></span><span class="op">(</span>left <span class="op">=</span> <span class="st">"right"</span>, orient <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e-tooltip.html">e_tooltip</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="part-whole_cache/html/rose chart_91faf35fb43d8ae8c705ccbe279e7140">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="echarts4r html-widget html-fill-item" id="htmlwidget-18d22ba2c9c6b6b4ab81" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-18d22ba2c9c6b6b4ab81">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"legend":{"data":["Blueberry","Cherry","Apple","Boston Cream","Other","Vanilla Cream"],"show":true,"type":"plain","left":"right","orient":"vertical"},"series":[{"name":"sales","type":"pie","clockwise":true,"startAngle":90,"roseType":"area","data":[{"value":0.12,"name":"Blueberry"},{"value":0.3,"name":"Cherry"},{"value":0.26,"name":"Apple"},{"value":0.16,"name":"Boston Cream"},{"value":0.04,"name":"Other"},{"value":0.12,"name":"Vanilla Cream"}]}],"tooltip":{"trigger":"item"}},"dispose":true},"evals":[],"jsHooks":[]}</script>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="echarts4r html-widget html-fill-item" id="htmlwidget-3ad6ce3562c0372f88b4" style="width:100%;height:500px;"></div>
<script type="application/json" data-for="htmlwidget-3ad6ce3562c0372f88b4">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"legend":{"data":["Blueberry","Cherry","Apple","Boston Cream","Other","Vanilla Cream"],"show":true,"type":"plain","left":"right","orient":"vertical"},"series":[{"name":"sales","type":"pie","clockwise":true,"startAngle":90,"roseType":"radius","data":[{"value":0.12,"name":"Blueberry"},{"value":0.3,"name":"Cherry"},{"value":0.26,"name":"Apple"},{"value":0.16,"name":"Boston Cream"},{"value":0.04,"name":"Other"},{"value":0.12,"name":"Vanilla Cream"}]}],"tooltip":{"trigger":"item"}},"dispose":true},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<p>For more information and customization look at <a href="https://echarts.apache.org/en/option.html#series-pie" class="uri">https://echarts.apache.org/en/option.html#series-pie</a></p>
</div>
</div>
</div>
<section id="the-fan-plot" class="level3"><h3 class="anchored" data-anchor-id="the-fan-plot">The <code>fan</code> Plot</h3>
<p>The <code>fan plot</code> (from the <code>plotrix</code> package) displays numerical values as arcs of <strong>overlapping sectors</strong>. This allows for more effective comparison:</p>
<div class="cell" data-hash="part-whole_cache/html/unnamed-chunk-7_47692858e7f342b849b3af555b9ceb6d">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">plotrix</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/plotrix/man/fan.plot.html">fan.plot</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">pie_data</span><span class="op">$</span><span class="va">sales</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">pie_data</span><span class="op">$</span><span class="va">labels</span>,</span>
<span>  </span>
<span>  col <span class="op">=</span> <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Plasma"</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>,</span>
<span>  shrink <span class="op">=</span> <span class="fl">0.03</span>,</span>
<span>  <span class="co"># How much to shrink each successive sector</span></span>
<span></span>
<span>  label.radius <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span>  main <span class="op">=</span> <span class="st">"Fan Plot of Ice Cream Flavours"</span>,</span>
<span>  <span class="co"># ticks = 360,</span></span>
<span>  <span class="co"># if we want tick marks on the circumference</span></span>
<span>  </span>
<span>  max.span <span class="op">=</span> <span class="va">pi</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="part-whole_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="2100"></p>
</div>
</div>
<p>There is no fan plot possible with <code>echarts4r</code>, as far as I know.</p>
</section><section id="the-donut-chart" class="level3"><h3 class="anchored" data-anchor-id="the-donut-chart">The <code>Donut</code> Chart</h3>
<p>The <code>donut</code> chart suffers from the same defects as the pie, so should be used with discretion. The <code>donut</code> chart is essentially a <code>gf_rect</code> from <code>ggformula</code>, plotted on a <strong>polar coordinate</strong> set of of axes:</p>
<div class="tabset-margin-container"></div><div class="panel-tabset nav-pills" style="background: whitesmoke;">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Using ggformula</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Using echarts4r</a></li>
</ul>
<div class="tab-content nav-pills" style="background: whitesmoke;">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Let us make some toy data:</p>
<div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Data</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>                 value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">20</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>fraction <span class="op">=</span> <span class="va">value</span> <span class="op">/</span> <span class="fu"><a href="https://www.mosaic-web.org/mosaic/reference/aggregating.html">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span>, <span class="co"># percentages</span></span>
<span>    ymax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">fraction</span><span class="op">)</span>, <span class="co"># cumulative percentages</span></span>
<span>    ymin <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">ymax</span>, <span class="fl">1</span>, default <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>    <span class="co"># bottom edge of each</span></span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">group</span>, <span class="st">"\n value: "</span>, <span class="va">value</span><span class="op">)</span>,</span>
<span>    labelPosition <span class="op">=</span> <span class="op">(</span><span class="va">ymax</span> <span class="op">+</span> <span class="va">ymin</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span> <span class="co"># labels midway on arcs</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">df</span></span>
<span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="co"># gf_rect() formula: ymin + ymax ~ xmin + xmax</span></span>
<span>  <span class="co"># Bars with varying thickness (y) proportional to data</span></span>
<span>  <span class="co"># Fixed length x (2 to 4)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_rect.html">gf_rect</a></span><span class="op">(</span><span class="va">ymin</span> <span class="op">+</span> <span class="va">ymax</span> <span class="op">~</span> <span class="fl">2</span> <span class="op">+</span> <span class="fl">4</span>,</span>
<span>          fill <span class="op">=</span> <span class="op">~</span> <span class="va">group</span>, colour <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_text.html">gf_label</a></span><span class="op">(</span><span class="va">labelPosition</span> <span class="op">~</span> <span class="fl">3.5</span>, </span>
<span>           label <span class="op">=</span> <span class="op">~</span> <span class="va">label</span>,</span>
<span>           size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span></span>
<span><span class="co"># When switching to polar coords:</span></span>
<span><span class="co"># x maps to radius</span></span>
<span><span class="co"># y maps to angle theta</span></span>
<span><span class="co"># so we create a "hole" in the radius, in x </span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_aux.html">gf_refine</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="st">"y"</span>, </span>
<span>                        direction <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>            <span class="co"># Up to here will give us a pie chart</span></span>
<span>  </span>
<span>  <span class="co"># Now to create the hole</span></span>
<span>  <span class="co"># try to play with the "0"</span></span>
<span>  <span class="co"># Recall x = [2,4]</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_aux.html">gf_refine</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_theme.html">gf_theme</a></span><span class="op">(</span>theme <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/ggformula/man/gf_theme.html">gf_theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="part-whole_cache/html/donut-chart_71354add21143a91a64fa64a3beac8a8">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["value"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["fraction"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["ymax"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["ymin"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["label"],"name":[6],"type":["chr"],"align":["left"]},{"label":["labelPosition"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"A","2":"25","3":"0.3125","4":"0.3125","5":"0.0000","6":"A\\n value: 25","7":"0.15625"},{"1":"B","2":"20","3":"0.2500","4":"0.5625","5":"0.3125","6":"B\\n value: 20","7":"0.43750"},{"1":"C","2":"35","3":"0.4375","4":"1.0000","5":"0.5625","6":"C\\n value: 35","7":"0.78125"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="part-whole_files/figure-html/donut-chart-1.png" class="img-fluid" width="2100"></p>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>The <code>donut</code> chart is simply a variant of the pie chart in <code>echarts4r</code>:</p>
<div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>                 value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">20</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>fraction <span class="op">=</span> <span class="va">value</span> <span class="op">/</span> <span class="fu"><a href="https://www.mosaic-web.org/mosaic/reference/aggregating.html">sum</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span>, <span class="co"># percentages</span></span>
<span>    ymax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cumsum.html">cumsum</a></span><span class="op">(</span><span class="va">fraction</span><span class="op">)</span>, <span class="co"># cumulative percentages</span></span>
<span>    ymin <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/lead-lag.html">lag</a></span><span class="op">(</span><span class="va">ymax</span>, <span class="fl">1</span>, default <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>    <span class="co"># bottom edge of each</span></span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">group</span>, <span class="st">"\n value: "</span>, <span class="va">value</span><span class="op">)</span>,</span>
<span>    labelPosition <span class="op">=</span> <span class="op">(</span><span class="va">ymax</span> <span class="op">+</span> <span class="va">ymin</span><span class="op">)</span> <span class="op">/</span> <span class="fl">2</span> <span class="co"># labels midway on arcs</span></span>
<span>  <span class="op">)</span></span>
<span><span class="va">df</span></span>
<span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/init.html">e_charts</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">group</span>, width <span class="op">=</span> <span class="fl">400</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_pie.html">e_pie</a></span><span class="op">(</span>serie <span class="op">=</span> <span class="va">value</span>, </span>
<span>        clockwise <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>        startAngle <span class="op">=</span> <span class="fl">90</span>,</span>
<span>        </span>
<span>        radius <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"50%"</span>, <span class="st">"70%"</span><span class="op">)</span></span>
<span>        <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e_legend.html">e_legend</a></span><span class="op">(</span>left <span class="op">=</span> <span class="st">"right"</span>, orient <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="http://echarts4r.john-coene.com/reference/e-tooltip.html">e_tooltip</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-hash="part-whole_cache/html/unnamed-chunk-9_de175d1ccd68e75baf69318cbf7f3279">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["value"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["fraction"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["ymax"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["ymin"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["label"],"name":[6],"type":["chr"],"align":["left"]},{"label":["labelPosition"],"name":[7],"type":["dbl"],"align":["right"]}],"data":[{"1":"A","2":"25","3":"0.3125","4":"0.3125","5":"0.0000","6":"A\\n value: 25","7":"0.15625"},{"1":"B","2":"20","3":"0.2500","4":"0.5625","5":"0.3125","6":"B\\n value: 20","7":"0.43750"},{"1":"C","2":"35","3":"0.4375","4":"1.0000","5":"0.5625","6":"C\\n value: 35","7":"0.78125"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div id="htmlwidget-a3890b6976339f519aa4" style="width:400px;height:500px;" class="echarts4r html-widget"></div>
<script type="application/json" data-for="htmlwidget-a3890b6976339f519aa4">{"x":{"theme":"","tl":false,"draw":true,"renderer":"canvas","events":[],"buttons":[],"opts":{"legend":{"data":["A","B","C"],"show":true,"type":"plain","left":"right","orient":"vertical"},"series":[{"name":"value","type":"pie","clockwise":true,"startAngle":90,"radius":["50%","70%"],"data":[{"value":25,"name":"A"},{"value":20,"name":"B"},{"value":35,"name":"C"}]}],"tooltip":{"trigger":"item"}},"dispose":true},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section></section><section id="iconify-noto-waffle-waffle-charts" class="level2"><h2 class="anchored" data-anchor-id="iconify-noto-waffle-waffle-charts">
<iconify-icon inline="" icon="noto:waffle"></iconify-icon> Waffle Charts</h2>
<p>Waffle charts are often called ‚Äúsquare pie charts‚Äù !</p>
<p>Here we will need to step outside of <code>ggformula</code> and get into <code>ggplot</code> itself momentarily. (Always remember that <code>ggformula</code> is a simplified and intuitive method that runs on <strong>top</strong> of <code>ggplot</code>.) We will use the <code>waffle</code> package.</p>
<div class="cell" data-hash="part-whole_cache/html/label- using-waffle warning- false_2df4850edaa7dd01ba0605589dbfb7b7">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># install.packages("waffle", repos = "https://cinc.rud.is")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">waffle</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Data</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>                 value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">20</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">df</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["group"],"name":[1],"type":["chr"],"align":["left"]},{"label":["value"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"A","2":"25"},{"1":"B","2":"20"},{"1":"C","2":"35"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Waffle plot</span></span>
<span><span class="co"># Using ggplot, sadly not yet ggformula</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">group</span>, values <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/waffle/man/geom_waffle.html">geom_waffle</a></span><span class="op">(</span></span>
<span>    n_rows <span class="op">=</span> <span class="fl">8</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">0.33</span>,</span>
<span>    colour <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>    na.rm <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#BA182A"</span>, <span class="st">"#FF8288"</span>, <span class="st">"#FFDBDD"</span><span class="op">)</span>,</span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="part-whole_files/figure-html/label- using-waffle warning- false-1.png" class="img-fluid" width="2100"></p>
</div>
</div>
</section><section id="iconify-fa6-solid-people-roof-parliament-charts" class="level2"><h2 class="anchored" data-anchor-id="iconify-fa6-solid-people-roof-parliament-charts">
<iconify-icon inline="" icon="fa6-solid:people-roof"></iconify-icon> Parliament Charts</h2>
<p>The package <code>ggpol</code> offers an interesting visualization in the shape of a array of ‚Äúseats‚Äù in a parliament. (There is also a package called <code>ggparliament</code> which in my opinion is a bit cumbersome, having a two step procedure to convert data into ‚Äúparliament form‚Äù etc. )</p>
<div class="cell" data-hash="part-whole_cache/html/using-ggpol_022e02e7cd2aaf07ea166a6c6822b207">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>group <span class="op">=</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span>,</span>
<span>                 value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">20</span>, <span class="fl">35</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Parliament Plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggpol</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ggpol/man/geom_parliament.html">geom_parliament</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>seats <span class="op">=</span> <span class="va">value</span>, </span>
<span>                             fill <span class="op">=</span> <span class="va">group</span><span class="op">)</span>,</span>
<span>                         r0 <span class="op">=</span> <span class="fl">2</span>, <span class="co"># inner radius</span></span>
<span>                         r1 <span class="op">=</span> <span class="fl">4</span> <span class="co"># Outer radius</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#BA182A"</span>, <span class="st">"#FF8288"</span>, <span class="st">"#FFDBDD"</span><span class="op">)</span>,</span>
<span>                    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="part-whole_files/figure-html/using-ggpol-1.png" class="img-fluid" width="2100"></p>
</div>
</div>
</section><section id="trees-dendrograms-and-circle-packings" class="level2"><h2 class="anchored" data-anchor-id="trees-dendrograms-and-circle-packings">Trees, Dendrograms, and Circle Packings</h2>
<p>There are still more esoteric plots to explore, if you are hell-bent on startling people ! There is an R package called <code>ggraph</code>, that can do these charts, and many more:</p>
<blockquote class="blockquote">
<p>ggraph is an extension of <a href="https://ggplot2.tidyverse.org/"><code>ggplot2</code></a> aimed at supporting relational data structures such as networks, graphs, and trees. While it builds upon the foundation of <code>ggplot2</code> and its API it comes with its own self-contained set of geoms, facets, etc., as well as adding the concept of <em>layouts</em> to the grammar.</p>
</blockquote>
<p>We will explore these charts when we examine <code>network diagrams.</code> For now, we can quickly see what these diagrams look like. Although the R-code is visible to you, it may not make sense at the moment!</p>
<section id="iconify-mdi-family-tree-dendrograms" class="level3"><h3 class="anchored" data-anchor-id="iconify-mdi-family-tree-dendrograms">
<iconify-icon inline="" icon="mdi:family-tree"></iconify-icon> Dendrograms</h3>
<p>From the <a href="http://r-graph-gallery.com/index.html">R Graph Gallery Website</a> :</p>
<blockquote class="blockquote">
<p>Dendrograms can be built from:</p>
<ul>
<li><p><a href="http://r-graph-gallery.com/dendrogram.html#hiera">Hierarchical dataset</a>: think about a CEO managing team leads managing employees and so on.</p></li>
<li><p><a href="http://r-graph-gallery.com/dendrogram.html#clust">Clustering result</a>: clustering divides a set of individuals in group according to their similarity. Its result can be visualized as a tree.</p></li>
</ul>
</blockquote>
<div class="cell" data-hash="part-whole_cache/html/unnamed-chunk-12_a637e7e6d13bd8086b978cfdcf072e5c">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># create an edge list data frame giving the hierarchical structure of your individuals</span></span>
<span><span class="va">d1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>from <span class="op">=</span> <span class="st">"origin"</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"group"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">d2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="va">d1</span><span class="op">$</span><span class="va">to</span>, each<span class="op">=</span><span class="fl">5</span><span class="op">)</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"subgroup"</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">25</span><span class="op">)</span>, sep<span class="op">=</span><span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">d1</span>, <span class="va">d2</span><span class="op">)</span></span>
<span><span class="va">edges</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["from"],"name":[1],"type":["chr"],"align":["left"]},{"label":["to"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"origin","2":"group1"},{"1":"origin","2":"group2"},{"1":"origin","2":"group3"},{"1":"origin","2":"group4"},{"1":"origin","2":"group5"},{"1":"group1","2":"subgroup_1"},{"1":"group1","2":"subgroup_2"},{"1":"group1","2":"subgroup_3"},{"1":"group1","2":"subgroup_4"},{"1":"group1","2":"subgroup_5"},{"1":"group2","2":"subgroup_6"},{"1":"group2","2":"subgroup_7"},{"1":"group2","2":"subgroup_8"},{"1":"group2","2":"subgroup_9"},{"1":"group2","2":"subgroup_10"},{"1":"group3","2":"subgroup_11"},{"1":"group3","2":"subgroup_12"},{"1":"group3","2":"subgroup_13"},{"1":"group3","2":"subgroup_14"},{"1":"group3","2":"subgroup_15"},{"1":"group4","2":"subgroup_16"},{"1":"group4","2":"subgroup_17"},{"1":"group4","2":"subgroup_18"},{"1":"group4","2":"subgroup_19"},{"1":"group4","2":"subgroup_20"},{"1":"group5","2":"subgroup_21"},{"1":"group5","2":"subgroup_22"},{"1":"group5","2":"subgroup_23"},{"1":"group5","2":"subgroup_24"},{"1":"group5","2":"subgroup_25"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Create a graph object </span></span>
<span><span class="va">mygraph1</span> <span class="op">&lt;-</span> <span class="fu">tidygraph</span><span class="fu">::</span><span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html">as_tbl_graph</a></span><span class="op">(</span> <span class="va">edges</span> <span class="op">)</span></span>
<span> </span>
<span><span class="co"># Basic tree</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html">ggraph</a></span><span class="op">(</span><span class="va">mygraph1</span>, layout <span class="op">=</span> <span class="st">'dendrogram'</span>, circular <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_diagonal.html">geom_edge_diagonal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html">geom_node_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="part-whole_cache/html/unnamed-chunk-13_66bd1c1a8d9f979a79a5f8a57cbcbd7b">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># create a data frame </span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span></span>
<span>  level1<span class="op">=</span><span class="st">"CEO"</span>,</span>
<span>  level2<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"boss1"</span>,<span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"boss2"</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  level3<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"mister_"</span>, <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span> </span>
<span><span class="co"># transform it to a edge list!</span></span>
<span><span class="va">edges_level1_2</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">level1</span>, <span class="va">level2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="va">unique</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>from<span class="op">=</span><span class="va">level1</span>, to<span class="op">=</span><span class="va">level2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">edges_level2_3</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">level2</span>, <span class="va">level3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="va">unique</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>from<span class="op">=</span><span class="va">level2</span>, to<span class="op">=</span><span class="va">level3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">edge_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">edges_level1_2</span>, <span class="va">edges_level2_3</span><span class="op">)</span></span>
<span><span class="va">edge_list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["from"],"name":[1],"type":["chr"],"align":["left"]},{"label":["to"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"CEO","2":"boss1"},{"1":"CEO","2":"boss2"},{"1":"boss1","2":"mister_a"},{"1":"boss1","2":"mister_b"},{"1":"boss1","2":"mister_c"},{"1":"boss1","2":"mister_d"},{"1":"boss2","2":"mister_e"},{"1":"boss2","2":"mister_f"},{"1":"boss2","2":"mister_g"},{"1":"boss2","2":"mister_h"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Now we can plot that</span></span>
<span><span class="va">mygraph2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html">as_tbl_graph</a></span><span class="op">(</span><span class="va">edge_list</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html">ggraph</a></span><span class="op">(</span><span class="va">mygraph2</span>, layout <span class="op">=</span> <span class="st">'dendrogram'</span>, circular <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_diagonal.html">geom_edge_diagonal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html">geom_node_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-hash="part-whole_cache/html/unnamed-chunk-14_4494feda73e5ceb193028ccb8cdf05dd">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="part-whole_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="2100"></p>
</div>
</div>
</section><section id="circle-packing" class="level3"><h3 class="anchored" data-anchor-id="circle-packing">Circle Packing</h3>
<div class="cell" data-hash="part-whole_cache/html/unnamed-chunk-15_abb7355643be0e6365c39081c1ea8749">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidygraph.data-imaginist.com">tidygraph</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggraph.data-imaginist.com">ggraph</a></span><span class="op">)</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html">tbl_graph</a></span><span class="op">(</span><span class="va">flare</span><span class="op">$</span><span class="va">vertices</span>, <span class="va">flare</span><span class="op">$</span><span class="va">edges</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html">ggraph</a></span><span class="op">(</span><span class="va">graph</span>, <span class="st">'circlepack'</span>, weight <span class="op">=</span> <span class="va">size</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_circle.html">geom_node_circle</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/as_factor.html">as_factor</a></span><span class="op">(</span><span class="va">depth</span><span class="op">)</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">0.25</span>, n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html">coord_fixed</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html">scale_fill_discrete</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Depth"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="part-whole_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="2100"></p>
</div>
</div>
</section></section><section id="iconify-bi-person-up-your-turn" class="level2"><h2 class="anchored" data-anchor-id="iconify-bi-person-up-your-turn">
<iconify-icon inline="" icon="bi:person-up"></iconify-icon> Your Turn</h2>
<ol type="1">
<li>Use the <code>penguins</code> dataset from the <code>palmerpenguins</code> package and plot pies, fans, and donuts as appropriate.</li>
<li>Look at the <code>whigs</code> and <code>highschool</code> datasets in the package <code>ggraph</code>. Plot Pies, Fans and if you are feeling confident, Trees, Dendrograms, and Circle Packings as appropriate for these.</li>
</ol></section><section id="iconify-ooui-references-ltr-references" class="level2"><h2 class="anchored" data-anchor-id="iconify-ooui-references-ltr-references">
<iconify-icon inline="" icon="ooui:references-ltr"></iconify-icon> References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" style="font-size: 60%;" role="list">
<p><br>
Iaroslava.2020. <em>A Parliament Diagram in R</em>, <a href="https://datavizstory.com/a-parliament-diagram-in-r/" class="uri">https://datavizstory.com/a-parliament-diagram-in-r/</a><br>
Venn Diagrams in R, <a href="https://r-charts.com/part-whole/ggvenndiagram/">Venn diagram in ggplot2 | R CHARTS (r-charts.com</a>)<br>
Generate icon-array charts without code! <a href="https://iconarray.com" class="uri">https://iconarray.com</a></p>
<section id="iconify-lucide-package-check-r-package-citations" class="level6"><h6 class="anchored" data-anchor-id="iconify-lucide-package-check-r-package-citations">
<iconify-icon inline="" icon="lucide:package-check"></iconify-icon> R Package Citations</h6>
<div class="cell" data-hash="part-whole_cache/html/unnamed-chunk-16_a48f7101c6dd2330b1dcee4881089879">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">Package</th>
<th style="text-align: left;">Version</th>
<th style="text-align: left;">Citation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">echarts4r</td>
<td style="text-align: left;">0.4.5</td>
<td style="text-align: left;"><span class="citation" data-cites="echarts4r">Coene (<a href="#ref-echarts4r" role="doc-biblioref">2023</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">ggparliament</td>
<td style="text-align: left;">2.0.0</td>
<td style="text-align: left;"><span class="citation" data-cites="ggparliament">Hickman, Meers, and Leeper (<a href="#ref-ggparliament" role="doc-biblioref">2018</a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">ggpol</td>
<td style="text-align: left;">0.0.7</td>
<td style="text-align: left;"><span class="citation" data-cites="ggpol">Tiedemann (<a href="#ref-ggpol" role="doc-biblioref">2020</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">ggraph</td>
<td style="text-align: left;">2.1.0</td>
<td style="text-align: left;"><span class="citation" data-cites="ggraph">Pedersen (<a href="#ref-ggraph" role="doc-biblioref">2022</a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">plotrix</td>
<td style="text-align: left;">3.8.4</td>
<td style="text-align: left;"><span class="citation" data-cites="plotrix">J (<a href="#ref-plotrix" role="doc-biblioref">2006</a>)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;">tidygraph</td>
<td style="text-align: left;">1.3.0</td>
<td style="text-align: left;"><span class="citation" data-cites="tidygraph">Pedersen (<a href="#ref-tidygraph" role="doc-biblioref">2023</a>)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;">waffle</td>
<td style="text-align: left;">1.0.2</td>
<td style="text-align: left;"><span class="citation" data-cites="waffle">Rudis and Gandy (<a href="#ref-waffle" role="doc-biblioref">2023</a>)</span></td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="ref-echarts4r" class="csl-entry" role="listitem">
Coene, John. 2023. <em>Echarts4r: Create Interactive Graphs with <span>‚Äú<span>Echarts JavaScript</span>‚Äù</span> Version 5</em>. <a href="https://CRAN.R-project.org/package=echarts4r">https://CRAN.R-project.org/package=echarts4r</a>.
</div>
<div id="ref-ggparliament" class="csl-entry" role="listitem">
Hickman, Robert, Zoe Meers, and Thomas J. Leeper. 2018. <em><span class="nocase">ggparliament</span>: Parliament Plots</em>. <a href="https://CRAN.R-project.org/package=ggparliament">https://CRAN.R-project.org/package=ggparliament</a>.
</div>
<div id="ref-plotrix" class="csl-entry" role="listitem">
J, Lemon. 2006. <span>‚Äú<span>Plotrix</span>: A Package in the Red Light District of r.‚Äù</span> <em>R-News</em> 6 (4): 8‚Äì12.
</div>
<div id="ref-ggraph" class="csl-entry" role="listitem">
Pedersen, Thomas Lin. 2022. <em><span class="nocase">ggraph</span>: An Implementation of Grammar of Graphics for Graphs and Networks</em>. <a href="https://CRAN.R-project.org/package=ggraph">https://CRAN.R-project.org/package=ggraph</a>.
</div>
<div id="ref-tidygraph" class="csl-entry" role="listitem">
‚Äî‚Äî‚Äî. 2023. <em><span class="nocase">tidygraph</span>: A Tidy API for Graph Manipulation</em>. <a href="https://CRAN.R-project.org/package=tidygraph">https://CRAN.R-project.org/package=tidygraph</a>.
</div>
<div id="ref-waffle" class="csl-entry" role="listitem">
Rudis, Bob, and Dave Gandy. 2023. <em><span class="nocase">waffle</span>: Create Waffle Chart Visualizations</em>. <a href="https://CRAN.R-project.org/package=waffle">https://CRAN.R-project.org/package=waffle</a>.
</div>
<div id="ref-ggpol" class="csl-entry" role="listitem">
Tiedemann, Frederik. 2020. <em><span class="nocase">ggpol</span>: Visualizing Social Science Data with <span>‚Äú<span class="nocase">ggplot2</span>‚Äù</span></em>. <a href="https://CRAN.R-project.org/package=ggpol">https://CRAN.R-project.org/package=ggpol</a>.
</div>
</section>
</div>


</section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{v.2022,
  author = {V., Arvind},
  title = {üçï {Parts} of a {Whole}},
  date = {2022-11-25},
  url = {https://av-quarto.netlify.app/content/courses/Analytics/Descriptive/Modules/60-PartWhole/part-whole.html},
  langid = {en},
  abstract = {Slices, Portions, Counts, and Aggregates of Data}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-v.2022" class="csl-entry quarto-appendix-citeas" role="listitem">
V., Arvind. 2022. <span>‚Äúüçï Parts of a Whole.‚Äù</span> November 25, 2022.
<a href="https://av-quarto.netlify.app/content/courses/Analytics/Descriptive/Modules/60-PartWhole/part-whole.html">https://av-quarto.netlify.app/content/courses/Analytics/Descriptive/Modules/60-PartWhole/part-whole.html</a>.
</div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/av-quarto\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          // default icon
          link.classList.add("external");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Website made with ‚ù§Ô∏è and <a href="https://quarto.org/">Quarto</a>, by Arvind V.<br> License: <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC BY-SA 2.0</a>.</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


<script src="../../../../../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>